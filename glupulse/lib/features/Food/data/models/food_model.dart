import 'package:glupulse/features/Food/domain/entities/food.dart';

class FoodModel extends Food {
  const FoodModel({
    required super.foodId,
    required super.sellerId,
    required super.foodName,
    required super.description,
    required super.price,
    required super.currency,
    super.photoUrl,
    super.thumbnailUrl,
    required super.isAvailable,
    super.stockCount,
    super.tags,
    required super.createdAt,
    required super.updatedAt,
    super.servingSize,
    super.servingSizeGrams,
    super.quantity,
    super.calories,
    super.carbsGrams,
    super.fiberGrams,
    super.proteinGrams,
    super.fatGrams,
    super.sugarGrams,
    super.sodiumMg,
    super.glycemicIndex,
    super.glycemicLoad,
    super.foodCategory,
  });

  factory FoodModel.fromJson(Map<String, dynamic> json) {
    return FoodModel(
      foodId: json['food_id'],
      sellerId: json['seller_id'],
      foodName: json['food_name'],
      description: json['description'],
      price: (json['price'] as num).toInt(),
      currency: json['currency'],
      photoUrl: json['photo_url'],
      thumbnailUrl: json['thumbnail_url'],
      isAvailable: json['is_available'],
      stockCount: (json['stock_count'] as num?)?.toInt(),
      tags: json['tags'] != null ? List<String>.from(json['tags']) : null,
      createdAt: DateTime.parse(json['created_at']),
      updatedAt: DateTime.parse(json['updated_at']),
      servingSize: json['serving_size'],
      servingSizeGrams: json['serving_size_grams'],
      quantity: json['quantity'],
      calories: json['calories'],
      carbsGrams: json['carbs_grams'],
      fiberGrams: json['fiber_grams'],
      proteinGrams: json['protein_grams'],
      fatGrams: json['fat_grams'],
      sugarGrams: json['sugar_grams'],
      sodiumMg: json['sodium_mg'],
      glycemicIndex: json['glycemic_index'],
      glycemicLoad: json['glycemic_load'],
      foodCategory: json['food_category'],
    );
  }

  Map<String, dynamic> toJson() {
    return {
      'food_id': foodId,
      'seller_id': sellerId,
      'food_name': foodName,
      'description': description,
      'price': price,
      'currency': currency,
      'photo_url': photoUrl,
      'thumbnail_url': thumbnailUrl,
      'is_available': isAvailable,
      'stock_count': stockCount,
      'tags': tags,
      'created_at': createdAt.toIso8601String(),
      'updated_at': updatedAt.toIso8601String(),
      'serving_size': servingSize,
      'serving_size_grams': servingSizeGrams,
      'quantity': quantity,
      'calories': calories,
      'carbs_grams': carbsGrams,
      'fiber_grams': fiberGrams,
      'protein_grams': proteinGrams,
      'fat_grams': fatGrams,
      'sugar_grams': sugarGrams,
      'sodium_mg': sodiumMg,
      'glycemic_index': glycemicIndex,
      'glycemic_load': glycemicLoad,
      'food_category': foodCategory,
    };
  }
}
