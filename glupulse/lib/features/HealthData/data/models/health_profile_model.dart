import 'package:glupulse/features/HealthData/domain/entities/health_profile.dart';

class HealthProfileModel extends HealthProfile {
  const HealthProfileModel({
    String? appExperience,
    int? conditionId,
    DateTime? diagnosisDate,
    double? heightCm,
    double? currentWeightKg,
    double? targetWeightKg,
    double? waistCircumferenceCm,
    double? bodyFatPercentage,
    double? hba1cTarget,
    double? lastHba1c,
    DateTime? lastHba1cDate,
    int? targetGlucoseFasting,
    int? targetGlucosePostprandial,
    List<String>? treatmentTypes,
    String? insulinRegimen,
    bool? usesCgm,
    String? cgmDevice,
    String? activityLevel,
    int? dailyStepsGoal,
    int? weeklyExerciseGoalMinutes,
    List<int>? preferredActivityTypeIds,
    String? dietaryPattern,
    int? dailyCarbTargetGrams,
    int? dailyCalorieTarget,
    int? dailyProteinTargetGrams,
    int? dailyFatTargetGrams,
    int? mealsPerDay,
    int? snacksPerDay,
    List<String>? foodAllergies,
    List<String>? foodIntolerances,
    List<String>? foodsToAvoid,
    List<String>? culturalCuisines,
    List<String>? dietaryRestrictions,
    bool? hasHypertension,
    String? hypertensionMedication,
    bool? hasKidneyDisease,
    int? kidneyDiseaseStage,
    double? egfrValue,
    bool? hasCardiovascularDisease,
    bool? hasNeuropathy,
    bool? hasRetinopathy,
    bool? hasGastroparesis,
    bool? hasHypoglycemiaUnawareness,
    List<String>? otherConditions,
    String? smokingStatus,
    int? smokingYears,
    String? alcoholFrequency,
    int? alcoholDrinksPerWeek,
    String? stressLevel,
    double? typicalSleepHours,
    String? sleepQuality,
    bool? isPregnant,
    bool? isBreastfeeding,
    DateTime? expectedDueDate,
    String? preferredUnits,
    String? glucoseUnit,
    String? timezone,
    String? languageCode,
    bool? enableGlucoseAlerts,
    bool? enableMealReminders,
    bool? enableActivityReminders,
    bool? enableMedicationReminders,
    bool? shareDataForResearch,
    bool? shareAnonymizedData,
  }) : super(
          appExperience: appExperience,
          conditionId: conditionId,
          diagnosisDate: diagnosisDate,
          heightCm: heightCm,
          currentWeightKg: currentWeightKg,
          targetWeightKg: targetWeightKg,
          waistCircumferenceCm: waistCircumferenceCm,
          bodyFatPercentage: bodyFatPercentage,
          hba1cTarget: hba1cTarget,
          lastHba1c: lastHba1c,
          lastHba1cDate: lastHba1cDate,
          targetGlucoseFasting: targetGlucoseFasting,
          targetGlucosePostprandial: targetGlucosePostprandial,
          treatmentTypes: treatmentTypes,
          insulinRegimen: insulinRegimen,
          usesCgm: usesCgm,
          cgmDevice: cgmDevice,
          activityLevel: activityLevel,
          dailyStepsGoal: dailyStepsGoal,
          weeklyExerciseGoalMinutes: weeklyExerciseGoalMinutes,
          preferredActivityTypeIds: preferredActivityTypeIds,
          dietaryPattern: dietaryPattern,
          dailyCarbTargetGrams: dailyCarbTargetGrams,
          dailyCalorieTarget: dailyCalorieTarget,
          dailyProteinTargetGrams: dailyProteinTargetGrams,
          dailyFatTargetGrams: dailyFatTargetGrams,
          mealsPerDay: mealsPerDay,
          snacksPerDay: snacksPerDay,
          foodAllergies: foodAllergies,
          foodIntolerances: foodIntolerances,
          foodsToAvoid: foodsToAvoid,
          culturalCuisines: culturalCuisines,
          dietaryRestrictions: dietaryRestrictions,
          hasHypertension: hasHypertension,
          hypertensionMedication: hypertensionMedication,
          hasKidneyDisease: hasKidneyDisease,
          kidneyDiseaseStage: kidneyDiseaseStage,
          egfrValue: egfrValue,
          hasCardiovascularDisease: hasCardiovascularDisease,
          hasNeuropathy: hasNeuropathy,
          hasRetinopathy: hasRetinopathy,
          hasGastroparesis: hasGastroparesis,
          hasHypoglycemiaUnawareness: hasHypoglycemiaUnawareness,
          otherConditions: otherConditions,
          smokingStatus: smokingStatus,
          smokingYears: smokingYears,
          alcoholFrequency: alcoholFrequency,
          alcoholDrinksPerWeek: alcoholDrinksPerWeek,
          stressLevel: stressLevel,
          typicalSleepHours: typicalSleepHours,
          sleepQuality: sleepQuality,
          isPregnant: isPregnant,
          isBreastfeeding: isBreastfeeding,
          expectedDueDate: expectedDueDate,
          preferredUnits: preferredUnits,
          glucoseUnit: glucoseUnit,
          timezone: timezone,
          languageCode: languageCode,
          enableGlucoseAlerts: enableGlucoseAlerts,
          enableMealReminders: enableMealReminders,
          enableActivityReminders: enableActivityReminders,
          enableMedicationReminders: enableMedicationReminders,
          shareDataForResearch: shareDataForResearch,
          shareAnonymizedData: shareAnonymizedData,
        );

  factory HealthProfileModel.fromJson(Map<String, dynamic> json) {
    return HealthProfileModel(
      appExperience: json['app_experience'],
      conditionId: json['condition_id'],
      diagnosisDate: json['diagnosis_date'] != null
          ? DateTime.tryParse(json['diagnosis_date'])
          : null,
      heightCm: (json['height_cm'] as num?)?.toDouble(),
      currentWeightKg: (json['current_weight_kg'] as num?)?.toDouble(),
      targetWeightKg: (json['target_weight_kg'] as num?)?.toDouble(),
      waistCircumferenceCm:
          (json['waist_circumference_cm'] as num?)?.toDouble(),
      bodyFatPercentage: (json['body_fat_percentage'] as num?)?.toDouble(),
      hba1cTarget: (json['hba1c_target'] as num?)?.toDouble(),
      lastHba1c: (json['last_hba1c'] as num?)?.toDouble(),
      lastHba1cDate: json['last_hba1c_date'] != null
          ? DateTime.tryParse(json['last_hba1c_date'])
          : null,
      targetGlucoseFasting: json['target_glucose_fasting'],
      targetGlucosePostprandial: json['target_glucose_postprandial'],
      treatmentTypes: json['treatment_types'] != null
          ? List<String>.from(json['treatment_types'])
          : null,
      insulinRegimen: json['insulin_regimen'],
      usesCgm: json['uses_cgm'],
      cgmDevice: json['cgm_device'],
      activityLevel: json['activity_level'],
      dailyStepsGoal: json['daily_steps_goal'],
      weeklyExerciseGoalMinutes: json['weekly_exercise_goal_minutes'],
      preferredActivityTypeIds: json['preferred_activity_type_ids'] != null
          ? List<int>.from(json['preferred_activity_type_ids'])
          : null,
      dietaryPattern: json['dietary_pattern'],
      dailyCarbTargetGrams: json['daily_carb_target_grams'],
      dailyCalorieTarget: json['daily_calorie_target'],
      dailyProteinTargetGrams: json['daily_protein_target_grams'],
      dailyFatTargetGrams: json['daily_fat_target_grams'],
      mealsPerDay: json['meals_per_day'],
      snacksPerDay: json['snacks_per_day'],
      foodAllergies: json['food_allergies'] != null
          ? List<String>.from(json['food_allergies'])
          : null,
      foodIntolerances: json['food_intolerances'] != null
          ? List<String>.from(json['food_intolerances'])
          : null,
      foodsToAvoid: json['foods_to_avoid'] != null
          ? List<String>.from(json['foods_to_avoid'])
          : null,
      culturalCuisines: json['cultural_cuisines'] != null
          ? List<String>.from(json['cultural_cuisines'])
          : null,
      dietaryRestrictions: json['dietary_restrictions'] != null
          ? List<String>.from(json['dietary_restrictions'])
          : null,
      hasHypertension: json['has_hypertension'],
      hypertensionMedication: json['hypertension_medication'],
      hasKidneyDisease: json['has_kidney_disease'],
      kidneyDiseaseStage: json['kidney_disease_stage'],
      egfrValue: (json['egfr_value'] as num?)?.toDouble(),
      hasCardiovascularDisease: json['has_cardiovascular_disease'],
      hasNeuropathy: json['has_neuropathy'],
      hasRetinopathy: json['has_retinopathy'],
      hasGastroparesis: json['has_gastroparesis'],
      hasHypoglycemiaUnawareness: json['has_hypoglycemia_unawareness'],
      otherConditions: json['other_conditions'] != null
          ? List<String>.from(json['other_conditions'])
          : null,
      smokingStatus: json['smoking_status'],
      smokingYears: json['smoking_years'],
      alcoholFrequency: json['alcohol_frequency'],
      alcoholDrinksPerWeek: json['alcohol_drinks_per_week'],
      stressLevel: json['stress_level'],
      typicalSleepHours: (json['typical_sleep_hours'] as num?)?.toDouble(),
      sleepQuality: json['sleep_quality'],
      isPregnant: json['is_pregnant'],
      isBreastfeeding: json['is_breastfeeding'],
      expectedDueDate: json['expected_due_date'] != null
          ? DateTime.tryParse(json['expected_due_date'])
          : null,
      preferredUnits: json['preferred_units'],
      glucoseUnit: json['glucose_unit'],
      timezone: json['timezone'],
      languageCode: json['language_code'],
      enableGlucoseAlerts: json['enable_glucose_alerts'],
      enableMealReminders: json['enable_meal_reminders'],
      enableActivityReminders: json['enable_activity_reminders'],
      enableMedicationReminders: json['enable_medication_reminders'],
      shareDataForResearch: json['share_data_for_research'],
      shareAnonymizedData: json['share_anonymized_data'],
    );
  }

  Map<String, dynamic> toJson() {
    return {
      'app_experience': appExperience,
      'condition_id': conditionId,
      'diagnosis_date': diagnosisDate?.toIso8601String().split('T').first,
      'height_cm': heightCm,
      'current_weight_kg': currentWeightKg,
      'target_weight_kg': targetWeightKg,
      'waist_circumference_cm': waistCircumferenceCm,
      'body_fat_percentage': bodyFatPercentage,
      'hba1c_target': hba1cTarget,
      'last_hba1c': lastHba1c,
      'last_hba1c_date': lastHba1cDate?.toIso8601String().split('T').first,
      'target_glucose_fasting': targetGlucoseFasting,
      'target_glucose_postprandial': targetGlucosePostprandial,
      'treatment_types': treatmentTypes,
      'insulin_regimen': insulinRegimen,
      'uses_cgm': usesCgm,
      'cgm_device': cgmDevice,
      'activity_level': activityLevel,
      'daily_steps_goal': dailyStepsGoal,
      'weekly_exercise_goal_minutes': weeklyExerciseGoalMinutes,
      'preferred_activity_type_ids': preferredActivityTypeIds,
      'dietary_pattern': dietaryPattern,
      'daily_carb_target_grams': dailyCarbTargetGrams,
      'daily_calorie_target': dailyCalorieTarget,
      'daily_protein_target_grams': dailyProteinTargetGrams,
      'daily_fat_target_grams': dailyFatTargetGrams,
      'meals_per_day': mealsPerDay,
      'snacks_per_day': snacksPerDay,
      'food_allergies': foodAllergies,
      'food_intolerances': foodIntolerances,
      'foods_to_avoid': foodsToAvoid,
      'cultural_cuisines': culturalCuisines,
      'dietary_restrictions': dietaryRestrictions,
      'has_hypertension': hasHypertension,
      'hypertension_medication': hypertensionMedication,
      'has_kidney_disease': hasKidneyDisease,
      'kidney_disease_stage': kidneyDiseaseStage,
      'egfr_value': egfrValue,
      'has_cardiovascular_disease': hasCardiovascularDisease,
      'has_neuropathy': hasNeuropathy,
      'has_retinopathy': hasRetinopathy,
      'has_gastroparesis': hasGastroparesis,
      'has_hypoglycemia_unawareness': hasHypoglycemiaUnawareness,
      'other_conditions': otherConditions,
      'smoking_status': smokingStatus,
      'smoking_years': smokingYears,
      'alcohol_frequency': alcoholFrequency,
      'alcohol_drinks_per_week': alcoholDrinksPerWeek,
      'stress_level': stressLevel,
      'typical_sleep_hours': typicalSleepHours,
      'sleep_quality': sleepQuality,
      'is_pregnant': isPregnant,
      'is_breastfeeding': isBreastfeeding,
      'expected_due_date': expectedDueDate?.toIso8601String().split('T').first,
      'preferred_units': preferredUnits,
      'glucose_unit': glucoseUnit,
      'timezone': timezone,
      'language_code': languageCode,
      'enable_glucose_alerts': enableGlucoseAlerts,
      'enable_meal_reminders': enableMealReminders,
      'enable_activity_reminders': enableActivityReminders,
      'enable_medication_reminders': enableMedicationReminders,
      'share_data_for_research': shareDataForResearch,
      'share_anonymized_data': shareAnonymizedData,
    };
  }
}
